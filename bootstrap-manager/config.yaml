kubeconfig: /etc/kubernetes/admin.kubeconfig
nodeName: controller-0-mytestcluster
sync:
  nodesCount: 3
  resources:
    namespace: default
    prefix: bootstrap-manager
preMigration:
- name: default-roles
  driver: kubectl
  manifest: /etc/kubernetes/default-roles.yaml
- name: cilium-cni
  driver: helm
  chart:
    url: https://helm.cilium.io/
    name: cilium
    releaseName: cilium
    version: 1.16.1
    namespace: "kube-system"
    values:
      kubeProxyReplacement: true
      k8sServiceHost: kube-apiserver-mytestcluster.compute.zone
      k8sServicePort: 6443
migration:
- key: kube-apiserver
  systemdUnit: kube-apiserver.service
  manifest: /etc/kubernetes/manifests/kube-apiserver.yaml
  httpChecks:
  - insecure: false
    url: https://kube-apiserver-mytestcluster.compute.zone:6443/version
    ca: /etc/kubernetes/ssl/ca.crt
    # - type: kubectl
    #   selector: app=kube-apiserver
    #   nodeName: controller-0-mytestcluster 

postMigration: []
finalChecks: []
